<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<title>CV Online</title>
</head>
<body>
	<!--Arquivo do css -->
<link href="style.css" rel="stylesheet">
	<section>
		<div id="maintable">

			<h1><b>Curriculum Vitae<b></h1>
			<table class="mitable">
				<thead>
					<tr>
						
						<th>1. Dados Pessoais</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr>
						
						<td><li>Apelido</li></td>
						<td><input type="text" name="apelido" placeholder="Digite seu apelido aqui"></td>
					</tr><br>
					<tr>
						
						<td><li>Nome</li></td>
						<td><input type="text" name="nome" placeholder="Digite seu nome aqui"></td>
					</tr>
					<tr>
						
						<td><li>Data de Nascimento</li></td>
						<td><input type="date" name="dataNascimento" placeholder="Digite sua data de Nascimento"></td>
					</tr>
					<tr>
						
						<td><li>Filiação</li></td>
						<td><input type="text" name="filiacao" placeholder="Pai e Mãe" size="50" maxlength="50"></td>
					</tr>
					<tr>
						
						<td><li>Estado Civil</li></td>
						<td><input type="text" name="estadoCivil" placeholder="Estado Civil"></td>
					</tr>
					<tr>
						
						<td><li>Nacionalidade</li></td>
						<td><input type="text" name="nacionaidade" placeholder="Nacionalidade"></td>
					</tr>
					<tr>
						
						<td><li>Naturalidade</li></td>
						<td><input type="text" name="naturalidade" placeholder="Naturalidade"></td>
					</tr>
					<tr>
						
						<td><li>Nr. B.I.</li></td>
						<td><input type="text" name="BI" placeholder="Bilhete de Identidade"></td>
					</tr>
					<tr>
						
						<td><li>NUIT</li></td>
						<td><input type="int" name="nuit" placeholder="NUIT"></td>
					</tr>
					<tr>
						
						<td><li>Residencia</li> </td>
						<td><input type="text" name="residencia" placeholder="Residencia"></td>
					</tr>
				</tbody>	
			</table><br>
			
		</div>
		<div>
			<button id="pdfout">Baixar CV</button>
		</div>
	</section>
	<!-- importar o jsPDF responsavel pela conversao do pdf -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>
	<!-- importar o canvas responsavel pelo dimensionamento  e abertura do pdf -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script>
		var maintable = document.getElementById('maintable'),
			pdfout = document.getElementById('pdfout');

		pdfout.onclick = function(){
			var doc = new jsPDF('p', 'pt', 'a4');
			doc.setFontSize(15);
			var margin = 20;
			var scale = (doc.internal.pageSize.width - margin*2)/document.body.clientWidth;
			var scale_mobile = (doc.internal.pageSize.width - margin*2)/ document.body.getBoundingClientRect();

			if (/android|webOS|iPhone|iPad|iPod|BalckBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
				//mobile
				doc.html(maintable, 
					{
						x: margin,
						y: margin,
						html2canvas:{
							scale: scale_mobile,
						},
						callback: function(doc){
							doc.output('dataurlnewwindow', {filename: 'cv.pdf'});
							
						}
					});
			} else{
				doc.html(maintable, 
					{
						x: margin,
						y: margin,
						html2canvas:{
							scale: scale,
						},
						callback: function(doc){
							doc.output('dataurlnewwindow', {filename: 'cv.pdf'});

						}
					});

			}
		}
	</script>

</body>
</html>